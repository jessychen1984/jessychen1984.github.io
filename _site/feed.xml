<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.0.0">Jekyll</generator><link href="https://kiwijia.work/feed.xml" rel="self" type="application/atom+xml" /><link href="https://kiwijia.work/" rel="alternate" type="text/html" /><updated>2020-03-25T08:23:11+08:00</updated><id>https://kiwijia.work/feed.xml</id><title type="html">KiwiJia Blog</title><subtitle>This is KiwiJia's blog</subtitle><entry><title type="html">å›´æ£‹ç›²å¦‚ä½•æ•™å°å­©ä¸‹æ£‹</title><link href="https://kiwijia.work/2020/03/24/sabaki-go/" rel="alternate" type="text/html" title="å›´æ£‹ç›²å¦‚ä½•æ•™å°å­©ä¸‹æ£‹" /><published>2020-03-24T00:00:00+08:00</published><updated>2020-03-24T00:00:00+08:00</updated><id>https://kiwijia.work/2020/03/24/sabaki-go</id><content type="html" xml:base="https://kiwijia.work/2020/03/24/sabaki-go/">&lt;blockquote&gt;
  &lt;p&gt;Sabaki: An elegant Go board and SGF editor for a more civilized age.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä¸ºäº†é”»ç‚¼æ€ç»´ï¼Œé™¶å†¶æ€§æƒ…ï¼Œæé«˜ç´ è´¨ ã€‚ã€‚ã€‚å¹´å‰å°±ç»™å°SamæŠ¥äº†ä¸ªå›´æ£‹è¯¾&lt;del&gt;ï¼Œè™½ç„¶å®¶é‡Œå¹¶æ²¡æœ‰äººæ‡‚è¿™ä¸ª&lt;/del&gt;ã€‚å¯æƒœç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œæ˜¥å¤©æ¥äº†å´è¿Ÿè¿Ÿä¸èƒ½å¼€è¯¾ã€‚å¯æ˜¯ï¼Œåœè¯¾ä¸èƒ½åœå­¦å‘€ã€‚äºæ˜¯ï¼Œè€å¸ˆæ‹‰äº†ä¸ªç¾¤ï¼Œç”©å‡ºå‡ ä¸ªæ£‹è°±ï¼Œè¦æ±‚åœ¨å®¶å…ˆå¯è’™ä¸€ä¸‹ï¼Œä¸€çœ‹æ ¼å¼ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;xxx.sgf&lt;/code&gt;ï¼Œè¿™ä¸ªæ€ä¹ˆçœ‹å‘€ï¼Ÿï¼Ÿï¼Ÿ&lt;/p&gt;

&lt;p&gt;:woman:ï¼š è€å¸ˆï¼Œé‚£ä¸ªsgfæˆ‘è¦æ€ä¹ˆæ‰“å¼€å‘€ï¼Ÿ
:man:ï¼šç®€å•ï¼Œä½ ä¸‹ä¸ª &lt;del&gt;çŒ«è¸¢ç‹—&lt;/del&gt; multigoå°±å¯ä»¥äº†ã€‚
:woman:ï¼šok~&lt;/p&gt;

&lt;p&gt;ç„¶è€Œã€‚ã€‚ã€‚ä¸ºå•¥æ²¡æœ‰macç‰ˆï¼Ÿï¼Ÿï¼Ÿä¸è¿‡éš¾ä¸å€’æˆ‘ï¼Œè®©googleå¤§ç¥ç»™å’±æ¨èä¸€ä¸ªğŸ˜~&lt;/p&gt;

&lt;p&gt;ç»è¿‡ä¸€ä¸Šåˆçš„æ¯”è¾ƒï¼Œç»ˆäºæ‰¾åˆ°ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§ï¼Œç•Œé¢ç¾è§‚çš„åœ¨macä¸‹çš„å›´æ£‹è½¯ä»¶ï¼š&lt;a href=&quot;https://sabaki.yichuanshen.de/&quot;&gt;sabaki&lt;/a&gt;ã€‚è¿™æ¬¾è½¯ä»¶å®Œå…¨ä½¿ç”¨ç½‘é¡µæŠ€æœ¯(HTML5 + Javascript)å¼€å‘ï¼Œç”±electronå°è£…æˆåº”ç”¨ç¨‹åºï¼Œæœ€æœ€é‡è¦çš„æ˜¯ï¼Œå®ƒè¿˜æ˜¯å¼€æºçš„â€¼ï¸é™„ä¸Š&lt;a href=&quot;https://github.com/SabakiHQ/Sabaki&quot;&gt;gitåœ°å€&lt;/a&gt;ï¼Œä½œè€…è´´å¿ƒçš„ç»™å‡ºäº†æ‰“åŒ…å¥½çš„ç‰ˆæœ¬ï¼š&lt;a href=&quot;https://github.com/SabakiHQ/Sabaki/releases/&quot;&gt;release&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ç›´æ¥å®‰è£…æ‰“åŒ…å¥½çš„ç‰ˆæœ¬ï¼Œéšæ„æ‰“å¼€ä¸ªsgfï¼Œæ¥æ„Ÿå—ä¸€ä¸‹ğŸ‘‡ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/Other/sabaki1.gif&quot; alt=&quot;image-20200324184157994&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åªè¦æŒ‰é”®ç›˜â†‘â†“é”®å°±å¯æŸ¥çœ‹æ¯æ­¥æ£‹çš„è½å­æ­¥éª¤åŠè§£è¯´ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Ÿå¬è€å¸ˆè¯´ä»–ä»¬å°æ—¶å€™å­¦æ£‹è¿˜è¦æ‰‹æŠ„æ£‹è°±ï¼Œæ„Ÿæ…¨ç°åœ¨çš„å°ç›†å‹çœŸæ˜¯å¤ªå¹¸ç¦äº†ã€‚&lt;/p&gt;

&lt;p&gt;æœ‰äº†sabakiï¼ŒåŠ ä¸Šç½‘ä¸Šæ‰¾çš„ä¸€å †å…¥é—¨å›´æ£‹é¢˜ï¼ˆå½“ç„¶éƒ½æ˜¯sgfæ ¼å¼çš„ï¼Œå¸¦è§£è¯´ï¼‰ï¼Œåœ¨å®¶åšå›´æ£‹å¯è’™ä¸è¦å¤ªæ–¹ä¾¿å•Šï¼ æƒ³åˆ°ä¹‹å‰æ‰‹æœºä¸Šä¸‹çš„ä¸€äº›å›´æ£‹å…¥é—¨appï¼Œæœ‰çš„åšå‡ é¢˜å°±è¦æ”¶è´¹ï¼Œæœ‰çš„çœ‹ç­”æ¡ˆè¦æ”¶è´¹ï¼Œæœ‰çš„ä¸€å †çš„å¹¿å‘Šï¼Œæœ‰çš„ä¸å¸¦è§£è¯´ï¼Œè¿™ä¸ªçœŸæ˜¯å¤ªé€‚åˆæˆ‘ç§çˆ±åŠ¨(kou)æ‰‹(men)çš„å°ä¼™ä¼´äº†:&lt;/p&gt;

&lt;p&gt;å½“ç„¶ï¼Œsabakiçš„åŠŸèƒ½è¿œè¿œä¸æ­¢è¿™äº›ï¼Œå®ƒçš„æœ€å¼ºå¤§ä¹‹å¤„æ˜¯å¯ä»¥è‡ªå®šä¹‰åç«¯çš„å›´æ£‹å¼•æ“ï¼Œå¯ä»¥ä½œä¸ºå¤šç§å›´æ£‹çš„å‰ç«¯å±•ç°ã€‚å½“ç„¶ï¼Œå¯¹äºæˆ‘ä»¬å®¶è¿™ç§å›´æ£‹å°ç™½æ¥è¯´ï¼Œå®ƒçš„å›¾è°±åŠŸèƒ½å·²ç»å®Œå…¨èƒ½æ»¡è¶³éœ€æ±‚äº†ã€‚è¿™é‡Œç»™å‡ºå®˜ç½‘åˆ—å‡ºçš„åŸºæœ¬åŠŸèƒ½ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;SGF editing tools&lt;/li&gt;
    &lt;li&gt;Intelligent scoring tool&lt;/li&gt;
    &lt;li&gt;Game tree&lt;/li&gt;
    &lt;li&gt;Fuzzy stone placement&lt;/li&gt;
    &lt;li&gt;GTP Engines&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;æœ‰ä¸å°‘å›´æ£‹é«˜æ‰‹ä¼šç”¨sabakié…ç½®å›´æ£‹AIå¼•æ“&lt;a href=&quot;https://github.com/leela-zero/leela-zero&quot;&gt;Leela Zero&lt;/a&gt;æ¥å®ç°äººæœºå¤§æˆ˜ã€‚ç½‘ä¸Šä¹Ÿæœ‰ä¸å°‘æ•™ç¨‹ã€‚åŠ å…¥äº†Leelaçš„sabakiä¸ä½†èƒ½é™ªä½ ä¸‹æ£‹ï¼Œè¿˜èƒ½åˆ†ææ£‹å±€ï¼Œè®¡ç®—å‡ºæ¯æ­¥æ£‹çš„èƒœç‡ã€‚ä¸è¿‡è¿™ä¸ªLeelaä¸‹æ£‹å®åœ¨å¤ªè¿‡å‰å®³ï¼Œå¯¹æ™®é€šäººæ¥è¯´è¿˜æ˜¯ä¸è¦æ‰¾è™çš„å¥½ğŸ˜‚&lt;/p&gt;</content><author><name>jessychen</name></author><category term="other" /><summary type="html">Sabaki: An elegant Go board and SGF editor for a more civilized age.</summary></entry><entry><title type="html">MiniProjä¹‹ç®€å•è®¡ç®—é¢˜å‡ºé¢˜å™¨</title><link href="https://kiwijia.work/2020/03/23/calculate-generator/" rel="alternate" type="text/html" title="MiniProjä¹‹ç®€å•è®¡ç®—é¢˜å‡ºé¢˜å™¨" /><published>2020-03-23T00:00:00+08:00</published><updated>2020-03-23T00:00:00+08:00</updated><id>https://kiwijia.work/2020/03/23/calculate-generator</id><content type="html" xml:base="https://kiwijia.work/2020/03/23/calculate-generator/">&lt;p&gt;æœ€è¿‘ï¼Œå®¶æœ‰å°å„¿åˆé•¿æˆã€‚æ›¾ç»èŒèŒå“’çš„Samå°ç›†å‹ä¹Ÿé©¬ä¸Šè¦æ­¥å…¥å°å­¦ç”Ÿçš„è¡Œåˆ—äº†ã€‚ä¸ºäº†ä¸è¾“åœ¨èµ·è·‘çº¿ä¸Šï¼Œè€æ¯äº²å†³å®šæ¯å¤©ç»™å‡º100é¢˜è®¡ç®—é¢˜ğŸ˜ã€‚æ‰‹åŠ¨å‡ºé¢˜å¤ªéº»çƒ¦ï¼Œè‚¿ä¹ˆåŠï¼Ÿå½“ç„¶æ˜¯åŠ¨æ‰‹å†™ä¸€ä¸ªäº†ï¼ç”¨ä¸Šä¼Ÿå¤§çš„&lt;strong&gt;Python&lt;/strong&gt;ï¼Œåˆ†åˆ†é’Ÿæå®šä¸åœ¨è¯ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;s&quot;&gt;'''
A simple python calculation question generator
usg: python calculator.py -d &quot;+,-&quot; -c 3 -l 200 -t 30
usg: python calculator.py --op_type=&quot;+,-&quot; --op_count=3 --limit=20 --total=30
'''&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;auto_cal_generator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;op_count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;op_type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;+&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Here are today's &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;d works, good luck!&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;op_type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;up&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;question&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;op_count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;randint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;up&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt; 
                &lt;span class=&quot;n&quot;&gt;question&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;d&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;question&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;up&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;continue&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;op&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;+&quot;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;up&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;op_i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;randint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;op&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;op_type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;op_i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;question&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;question&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;op&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;+&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;randint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;up&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt; 
                &lt;span class=&quot;n&quot;&gt;up&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;op&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;randint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;up&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; 
                &lt;span class=&quot;n&quot;&gt;up&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;operator error: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;question&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;d&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;question&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;d: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s=&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;question&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_dummy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getopt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:],&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;l:c:d:t:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;limit=&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;op_count=&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;op_type=&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;total=&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;op_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;op_type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;+&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;total&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arg&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;-l&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;--limit&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;-c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;--op_count&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;op_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;-d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;--op_type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;op_type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;,&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;-t&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;--total&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;total&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;auto_cal_generator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;op_count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;op_type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;__name__&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'__main__'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æœ‰äº†è¿™ä¸ªç¥å™¨åï¼Œæƒ³çœ‹ç”µè§†ï¼Ÿæƒ³åƒå†°æ¿€å‡Œï¼Ÿæƒ³å»æ¸¸ä¹å›­ï¼Ÿå…ˆåš30é¢˜è§£é”ï¼Œç”¨æ³•ï¼š&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;#å‡º30é¢˜200ä»¥å†…3ä¸ªè¿ç®—ç¬¦çš„åŠ å‡æ³•è®¡ç®—&lt;/span&gt;
python calculator.py &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;+,-&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; 3 &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; 200 &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; 30
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;çœ‹çœ‹ç»“æœï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/MiniProj/auto_cal_q.png&quot; alt=&quot;auto_cal_q&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å½“ç„¶ï¼Œå¯¹äºä¸åˆ°ä¸€å¹´çº§çš„å°è±†åŒ…æ¥è¯´ï¼Œç”¨åŠ å‡æ³•å¯¹ä»˜å·²ç»æˆ³æˆ³æœ‰ä½™äº†ï¼Œä¹˜é™¤æ³•ç­‰æœ‰ç©ºå†åŠ å§ã€‚&lt;/p&gt;

&lt;p&gt;é¡¹ç›®ä»£ç &lt;a href=&quot;https://github.com/jessychen1984/MiniProj/blob/master/src/misc/calculator.py&quot;&gt;ç‚¹æ­¤&lt;/a&gt;ä¸‹è½½&lt;/p&gt;</content><author><name>jessychen</name></author><category term="Python" /><category term="CS" /><category term="MiniProj" /><summary type="html">æœ€è¿‘ï¼Œå®¶æœ‰å°å„¿åˆé•¿æˆã€‚æ›¾ç»èŒèŒå“’çš„Samå°ç›†å‹ä¹Ÿé©¬ä¸Šè¦æ­¥å…¥å°å­¦ç”Ÿçš„è¡Œåˆ—äº†ã€‚ä¸ºäº†ä¸è¾“åœ¨èµ·è·‘çº¿ä¸Šï¼Œè€æ¯äº²å†³å®šæ¯å¤©ç»™å‡º100é¢˜è®¡ç®—é¢˜ğŸ˜ã€‚æ‰‹åŠ¨å‡ºé¢˜å¤ªéº»çƒ¦ï¼Œè‚¿ä¹ˆåŠï¼Ÿå½“ç„¶æ˜¯åŠ¨æ‰‹å†™ä¸€ä¸ªäº†ï¼ç”¨ä¸Šä¼Ÿå¤§çš„Pythonï¼Œåˆ†åˆ†é’Ÿæå®šä¸åœ¨è¯ä¸‹ï¼š</summary></entry><entry><title type="html">Airflowä¸­çš„è·¯å¾„é€‰æ‹©</title><link href="https://kiwijia.work/2020/03/22/python-branch/" rel="alternate" type="text/html" title="Airflowä¸­çš„è·¯å¾„é€‰æ‹©" /><published>2020-03-22T00:00:00+08:00</published><updated>2020-03-22T00:00:00+08:00</updated><id>https://kiwijia.work/2020/03/22/python-branch</id><content type="html" xml:base="https://kiwijia.work/2020/03/22/python-branch/">&lt;blockquote&gt;
  &lt;p&gt;Airflow æ˜¯ Airbnb å…¬å¸å¼€æºçš„ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿ, é€šè¿‡ä½¿ç”¨ Python å¼€å‘ DAG, éå¸¸æ–¹ä¾¿çš„è°ƒåº¦è®¡ç®—ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Airflowä¹‹å‰ï¼Œå½“å¤šä¸ªä¸Šä¸‹æ¸¸çš„ä»»åŠ¡é—´å­˜åœ¨ä¾èµ–æ—¶ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±æ¥å†™ä¸€äº›è°ƒåº¦çš„codeï¼Œå¸¸ç”¨çš„æœ‰å‡ ç§ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ä¸Šæ¸¸ä»»åŠ¡å®Œæˆåç½®ä¸ªdoneæ ‡è®°ã€‚éœ€è¦ä¸‹æ¸¸éš”æ®µæ—¶é—´æ£€æŸ¥ä¸Šæ¸¸ä»»åŠ¡æœ‰æ²¡æœ‰å®Œæˆã€‚&lt;/li&gt;
  &lt;li&gt;ä¸Šæ¸¸å®Œæˆä»»åŠ¡åé€šè¿‡æŸä¸ªapiæ¥callä¸‹æ¸¸ã€‚ä½ è¯´call å¤±è´¥äº†ï¼Ÿretryå¤§æ³•ç”¨èµ·æ¥å‘€â€‹â€‹ã€‚ã€‚ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ¨¡å—å¤ªå¤šï¼Œä¾èµ–å¤ªå¤æ‚ï¼Œè®°ä¸ä½æ€ä¹ˆåŠï¼Ÿå†™ä¸ªæ–‡æ¡£å§ã€‚ã€‚ã€‚ä¸Šæ¸¸æ”¹äº†ï¼Ÿï¼Ÿæ”¹æ–‡æ¡£å§ã€‚ã€‚ã€‚ä¸‹æ¸¸åˆå˜äº†ï¼Ÿï¼Ÿï¼Ÿå†æ”¹ã€‚ã€‚ã€‚å“å‘€ï¼Œä¸Šçº¿æ¥ä¸åŠäº†ï¼Œè¿‡å‡ å¤©æ›´æ–°å§ã€‚ã€‚ã€‚ã€‚é‚£ä¸ªæ–‡æ¡£å¾ˆä¹…æ²¡æ›´æ–°äº†ï¼Œè¿˜æ˜¯çœ‹codeå§ã€‚ã€‚ã€‚&lt;/p&gt;

&lt;p&gt;è€ŒAirflowä½¿ç”¨DAGï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„é€šè¿‡å®šä¹‰&lt;strong&gt;Operator&lt;/strong&gt;ï¼ŒåŠOperatoré—´çš„å…³ç³»ï¼ˆ&lt;strong&gt;upstream, downstream&lt;/strong&gt;ï¼‰æ¥è§£å†³ä»»åŠ¡ä¹‹é—´çš„å„ç§ä¾èµ–ã€‚åŒæ—¶ï¼Œå®ƒè¿˜æä¾›äº†UIæ¥æŸ¥çœ‹ä»»åŠ¡ä¾èµ–çš„DAGï¼Œä»»åŠ¡è¿è¡ŒçŠ¶æ€ã€‚ç®€å•çš„è¯´ï¼Œå®ƒå¯ä»¥ä½¿æˆ‘ä»¬æ›´å¤šçš„å…³æ³¨åˆ°ä¸šåŠ¡çš„å®ç°ä¸Šè€Œä¸æ˜¯å„ç§å¤æ‚çš„æ¨¡å—è°ƒç”¨åŠç¹ççš„æ–‡æ¡£ç»´æŠ¤ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ï¼Œä½œä¸ºä¸€æ¡å®Œæ•´çš„ä¸šåŠ¡æµï¼Œæ ¹æ®ä¸Šæ¸¸çš„æ‰§è¡Œç»“æœæ¥å†³å®šä¸‹æ¸¸çš„è¡Œä¸ºæ˜¯æœ€å¸¸è§ä¸è¿‡çš„äº‹äº†ã€‚æ¯”å¦‚ğŸ‘‡çš„ä¾‹å­ï¼š&lt;/p&gt;

&lt;p&gt;æœ‰ä¸ªæ·˜æ°”çš„Samå°ç›†å‹ï¼Œæ¯å¤©æŒ‰æ—¶ &lt;strong&gt;å®Œæˆä½œä¸š&lt;/strong&gt; æ˜¯ä¸ªå¤§éš¾é¢˜ã€‚äºæ˜¯ï¼Œå¦ˆå¦ˆæƒ³äº†ä¸ªåŠæ³•ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/Airflow/branch.png&quot; alt=&quot;branch-dag&quot; /&gt;&lt;/p&gt;

&lt;p&gt;çœŸæ˜¯ä¸ªä¸é”™çš„æ³•å­ğŸ‘ï¼è¿™é‡Œï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;8ç‚¹å‰å†™å®Œ&lt;/code&gt;åœ¨Airflowé‡Œå°±æ˜¯ä¸ªåˆ¤æ–­ç”¨çš„taskï¼Œç”±å®ƒæ¥å†³å®šæ•´ä¸ªDAGçš„ä¸‹ä¸€æ­¥æ“ä½œã€‚é‚£ä¹ˆï¼Œæ€ä¹ˆå®ç°å‘¢ï¼ŸAirflowæä¾›äº†&lt;strong&gt;BranchPythonOperator&lt;/strong&gt;ï¼Œç”¨æ¥æ”¯æŒåˆ†æ”¯, é€šè¿‡å‡½æ•°è¿”å›è¦æ‰§è¡Œçš„åˆ†æ”¯ã€‚&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;check_hour_op&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BranchPythonOperator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;task_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;check_hour&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;python_callable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;check_hour&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;dag&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dag&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;check_hour&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;current_hour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;sleep&quot;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;watch_animation&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;do_homework_op&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;check_hour_op&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;watch_animation_op&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sleep_op&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;watch_animation_op&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sleep_op&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;OkğŸ‘ ç®€ç›´å¤ªç®€å•äº†ï¼æ‰§è¡Œä¸€ä¸‹è¯•è¯•ï¼Œç„¶åä½ ä¼šå‘ç°ï¼Œå½“&lt;code class=&quot;highlighter-rouge&quot;&gt;check_hour&lt;/code&gt;è¿”å›&lt;code class=&quot;highlighter-rouge&quot;&gt;watch_animation&lt;/code&gt;æ—¶ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;sleep&lt;/code&gt;è¿™ä¸ªtaskçš„çŠ¶æ€æ°¸è¿œæ˜¯skipçš„ï¼Ÿï¼Ÿï¼Ÿè®©æˆ‘ä»¬ç¿»ä¸€ä¸‹å®˜æ–¹çš„è§£é‡Šï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Note that using tasks with &lt;code class=&quot;highlighter-rouge&quot;&gt;depends_on_past=True&lt;/code&gt; downstream from &lt;code class=&quot;highlighter-rouge&quot;&gt;BranchPythonOperator&lt;/code&gt; is logically unsound as &lt;code class=&quot;highlighter-rouge&quot;&gt;skipped&lt;/code&gt; status will invariably lead to block tasks that depend on their past successes. &lt;code class=&quot;highlighter-rouge&quot;&gt;skipped&lt;/code&gt; states propagates where all directly upstream tasks are &lt;code class=&quot;highlighter-rouge&quot;&gt;skipped&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å°±æ˜¯è¯´ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;sleep&lt;/code&gt;è¿™ä¸ªtaskåœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;check_hour&lt;/code&gt;é€‰æ‹©äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;watch_animation&lt;/code&gt;çš„æ—¶å€™å°±è¢«skipæ‰äº†ï¼Œå³ä¾¿è¿™é‡Œå®ƒæ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;watch_animation&lt;/code&gt;çš„ä¸‹æ¸¸ä»»åŠ¡ï¼Œä»ç„¶ä¸ä¼šè¢«æ‰§è¡ŒğŸ˜­ã€‚åŸå› å‘¢ï¼Ÿå®˜æ–¹è¯´æ˜¯downstreamè®¾äº†&lt;em&gt;depends_on_past=True&lt;/em&gt;ã€‚è¦çŸ¥é“ï¼Œoperatorä¸­è¿˜æœ‰ä¸ªå±æ€§å«&lt;em&gt;trigger_rule&lt;/em&gt;ï¼Œé»˜è®¤å€¼æ˜¯&lt;em&gt;all_success&lt;/em&gt;ã€‚è¿™ä¸¤ä¸ªç»„åˆåœ¨ä¸€èµ·å°±è¦ä¸Šæ¸¸çš„taskçŠ¶æ€éƒ½ä¸º&lt;em&gt;success&lt;/em&gt;æ‰èƒ½ç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚è€Œè¿™é‡Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;sleep&lt;/code&gt;çš„ä¸Šæ¸¸ä»»åŠ¡&lt;code class=&quot;highlighter-rouge&quot;&gt;watch_animation&lt;/code&gt;çŠ¶æ€æ˜¯&lt;em&gt;skipped&lt;/em&gt;, æ‰€ä»¥&lt;code class=&quot;highlighter-rouge&quot;&gt;sleep&lt;/code&gt;å°±æ²¡æœ‰è¢«æ‰§è¡Œåˆ°äº†ã€‚é‚£ä¹ˆï¼Œå¦‚æœè¿™é‡Œæˆ‘ä»¬æŠŠ&lt;code class=&quot;highlighter-rouge&quot;&gt;sleep&lt;/code&gt;çš„&lt;em&gt;trigger_rule&lt;/em&gt;ç½®æˆ&lt;em&gt;none_failed&lt;/em&gt;çš„è¯ï¼Œæ•´ä¸ªè¿‡ç¨‹å°±èƒ½æŒ‰æˆ‘ä»¬é¢„æœŸçš„æ‰§è¡Œä¸‹å»äº†:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;sleep_op&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PythonOperator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;task_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;sleep&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;trigger_rule&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;none_failed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;python_callable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;sleep&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;dag&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dag&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å†è¯•ä¸€ä¸‹ï¼Œæœç„¶å¯ä»¥å•¦:satisfied:&lt;/p&gt;

&lt;p&gt;Airflowç°åœ¨æ”¯æŒçš„Trigger Rules:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ALL_SUCCESS = â€˜all_successâ€™
ALL_FAILED = â€˜all_failedâ€™ 
ALL_DONE = â€˜all_doneâ€™ 
ONE_SUCCESS = â€˜one_successâ€™ 
ONE_FAILED = â€˜one_failedâ€™ 
NONE_FAILED = â€˜none_failedâ€™ 
NONE_SKIPPED = â€˜none_skippedâ€™ 
DUMMY = â€˜dummyâ€™&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;é™¤äº†ä¸Šé¢è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ©ç”¨&lt;strong&gt;DummyOperator&lt;/strong&gt;æ¥è¾¾åˆ°æƒ³è¦çš„æ•ˆæœã€‚ä¹Ÿå°±æ˜¯åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;watch_animation&lt;/code&gt;å¹³è¡Œçš„åˆ†æ”¯ä¸ŠåŠ ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;dummy&lt;/code&gt;taskï¼Œå®ƒå•¥æ´»éƒ½ä¸å¹²ï¼š&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;dummp_op&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DummyOperator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;task_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;dummy&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;dag&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dag&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;do_homework_op&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;check_hour_op&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;watch_animation_op&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dummp_op&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;watch_animation_op&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sleep_op&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dummp_op&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sleep_op&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™ç§æ–¹å¼æ›´ç®€å•æ˜“æ‡‚ï¼Œä»£ä»·å°±æ˜¯ä¼šç¨ç¨å¢åŠ äº›ä»£ç ï¼Œå–œæ¬¢å“ªä¸ªå°±ä»è€…è§ä»äº†:smirk:ã€‚&lt;/p&gt;</content><author><name>jessychen</name></author><category term="Airflow" /><category term="CS" /><summary type="html">Airflow æ˜¯ Airbnb å…¬å¸å¼€æºçš„ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿ, é€šè¿‡ä½¿ç”¨ Python å¼€å‘ DAG, éå¸¸æ–¹ä¾¿çš„è°ƒåº¦è®¡ç®—ä»»åŠ¡ã€‚</summary></entry></feed>