function getHeader(){var h=new Date();var i=h.toGMTString();var f="AKID1GU1f51987YhIW0Qxdi85dYbgk2J0pvtHWMX";var d="2bXpeAYfOa6r1f9H3LP1jl326jfPGYiTB8A5neph";var a="kiwi_129014";a="source";var c='hmac id="'+f+'", algorithm="hmac-sha1", headers="x-date source", signature="';var g="x-date: "+i+"\n"+"source: "+a;var b=CryptoJS.HmacSHA1(g,d);b=CryptoJS.enc.Base64.stringify(b);b=c+b+'"';var e={"Source":a,"X-Date":i,"Authorization":b};return e}function getQ(){var a=[];$("input[name='op_type']:checked").each(function(b){a[b]=$(this).val()});$.ajax({url:"https://service-90gt32ps-1301650411.gz.apigw.tencentcs.com/calculator",type:"get",data:{"op_count":$(" input[ name='op_count' ] ").val(),"op_type":a.join(","),"limit":$(" input[ name='limit' ] ").val(),"total":$(" input[ name='total' ] ").val()},dataType:"json",crossDomain:true,headers:getHeader(),success:function(b){if(b.errorCode<0){$("#res").html("<span style='color:red'>"+b.errorMessage+"</span>");return}b=$.parseJSON(b);q=b.questions.join("<br />");$("#res").html("<b>"+b.msg+"</b><br />"+q)},error:function(b,d,c){$("#res").html("<span style='color:red'>"+b.readyState+";"+b.status+";"+b.responseText+"</span>")}})}function doPrintCal(){content=$("#res").html();var a=window.open("","oPop");a.document.write(content);a.print();a.close()};
